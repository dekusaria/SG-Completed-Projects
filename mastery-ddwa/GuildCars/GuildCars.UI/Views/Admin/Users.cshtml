@model GuildCars.UI.Models.UsersVM
@{
    ViewBag.Title = "Users";
}

<div class="row">
    <div class="col offset-xl-1">
        <h2 class="page-header">Users</h2>
        <p style="margin-left: 20px; margin-bottom: 25px;">@Html.ActionLink("Add User", "Register", "Account", null, new { @class = "btn btn-primary shadow" })</p>
    </div>
</div>

<div class="row">
    <div class="table-responsive-lg col-xl-10 offset-xl-1">
        @if (Model.Users.Any())
        {
            <table class="table table-striped table-dark">
                <thead>
                    <tr>
                        <th>Last Name</th>
                        <th>First Name</th>
                        <th>Email</th>
                        <th>Role</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    @foreach(var user in Model.Users)
                    {
                        <tr>
                            <td>
                                @user.LastName
                            </td>
                            <td>
                                @user.FirstName
                            </td>
                            <td>
                                @user.Email
                            </td>
                            <td>
                                @if (Model.Roles.ContainsKey(user.Id))
                                {
                                    @Model.Roles[user.Id];
                                }
                                else
                                {
                                    <text>none</text>
                                }
                            </td>
                            <td>
                                @Html.ActionLink("Edit User", "EditUser", "Account", routeValues: new { user.Id }, htmlAttributes: new { @class = "btn btn-primary" })
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
            
        }
    </div>
</div>